# 객체와 자료 구조
## 객체란 무엇인가
데이터와 데이터를 처리하는 기능을 함께 캡슐화한 것<br>
내부 데이터를 스스로 처리하기 때문에 외부에 이를 노출하지 않음
## 자료 구조란 무엇인가
데이터와 데이터 처리 방식을 나타내며, 데이터를 처리하는 기능은 외부에서 제공<br>
따라서 필연적으로 내부 데이터를 외부에 노출한다.<br>
배열, 리스트, 큐, 스택, 힙 등등 많은 종류가 있다
## 자료 추상화
구체적인 자료구조는 데이터와 저장 방식을 확실히 보여준다.
형식에 치우쳐 private로 선언 후, 게터 세터를 public으로 두는 것도 사실상 구체적이다.<br>
> 이 부분이 내 Lombok 신앙에 거슬렸다. 하지만 @data를 사용하더라도
> 필요에 따라 각 필드에 @Getter(AccessLevel.NONE), 혹은 @Setter(AccessLevel.NONE)을 사용하면
> 숨겨야할 값을 확실히 숨길 수 있다.

추상화된 객체라면 값을 어떻게 사용할지 확실히 해야한다.<br>
좌표를 받는(*setter*)다면 각 필드에 대한 세터 없이 두 값을 한번에 받는 방법이 있을 것이다.<br>
남은 연료를 표시(*getter*)한다면, 구체적인 리터가 아닌 퍼센티지로 표현할 수 있을 것이다.<br><br>
추상 인터페이스를 제공하여, 사용자가 실제 구현을 모른 채 자료를 조작할 수 있어야 클래스다.<br>
따라서 객체가 포함한 자료를 어떻게 표현할지 고민해야하며,
<br>지성이 말소된 채 @data 붙히고 던져두는건 **매우** 나쁘다.
## 자료/객체 비대칭
자료 구조와 객체는 상반된 개념을 다루고 있다.<br>
자료 구조는 기능을 외부에 맡기기에, 기능을 추가한들 자료 구조를 만질 필요는 없다.<br>
하지만 새로운 자료 구조가 추가된다면 외부에서 무슨 일이 벌어질지 두렵다.<br>
객체는 반대다. 새로운 객체는 마음껏 추가할 수 있지만,<br>
객체에 무엇인가 기능을 추가한다면 모든 객체를 수정해야한다.<br><br>

### **따라서 모든 것을 객체로 다루기 보다, 적절하게 조합해야한다.**

>여담으로, 6-5와 6-6의 코드를 보고 객체 지향과 절차 지향의 차이를 이야기해보자.

## 디미터 법칙
> 모듈은 조작하는 객체의 내부는 몰라야 한다. 함부로 게터를 사용하지 말라.

클래스 C의 메서드 f는 다음과 같은 객체의 메서드만 호출해야 한다
- 클래스 C
- f가 생성한 객체
- f 인수로 넘어온 객체
- C인스턴스 변수에 저장된 객체<br>
-> 메소드 코드에 있는 객체와 클래스에 소속된 객체만 써라.

기차 충돌 코드 - 일반적으로 조잡하다 여겨지는 방식이므로 피하는 편이 좋다.
> 기차 충돌 코드는 메소드 체이닝과 비슷해보인다. 무슨 차이가 있지?
<details>
<summary>차이점</summary>

> ### 메소드 체이닝은 항상 본인을 리턴함.
> 하나의 값을 연속적으로 처리하는 (ex.문자열 처리) 부분에서 사용한다.
</details>

> 어떤 상황에서 기차 충돌인지, 이게 항상 나쁜지 생각해보자

## 구조체 감추기
기차 충돌 코드가 발생한다면, 이는 어딘가에서 객체 깊숙히 들어있는 값을 사용한다는 의미다.
객체에 그 값을 사용하는 메소드를 추가한다.

## 잡종 구조
공개 변수와 기능 함수도 갖춤.<br>
새로운 함수 추가도, 새로운 자료 구조도 추가하기 어려움.<br>

## DTO
공개 변수만 있고 함수가 없는 클래스.<br>
비공개 변수를 조회/설정 함수로 조작하는 특징이 있음.<br>
이 자체는 별다른 이익이 없는 사이비 캡슐화<br>
하지만 DB 등에서 정보를 가져오는 단계에서 최초로 사용할 때 가치가 있음<br>

### 활성 레코드
DTO의 특수한 형태.<br>
공개 변수가 있거나, 공개적인 게터세터가 존재하는 자료구조로 대개 저장 및 탐색 함수도 제공.<br>
DB나 API등 다른 소스에서 자료를 직접 반환한 결과.<br>
여기에 비즈니스 메소드를 추가한다면, 객체도 아니고 자료구조도 아닌 무언가로 취급됨<br>
따라서 이는 자료 구조로 취급하며 내부 자료를 숨기는 객체는 따로 생성.<br>
> 이 부분이 이해가 안가는데, 어떤 것인지 살펴보자