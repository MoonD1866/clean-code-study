### 시스템

- 시스템 제작과 사용을 분리하라

'소프트 웨어 시스템은 준비 과정과 런타임 로직을 분리해야 한다' 라는 말을 인용하며 관심사 분리의 중요성을 언급한다.
``` java
public Service getService() {
if (service == null)
	service = new MyServiceImpl(...); 
    return service;
   }
  ```

위의 코드는 모든 상황에 적합한 기본값을 갖지 않는다. getServic 메서드는 생성자 인수에 명시적으로 의존하여 이를 해결하지 않을 시 컴파일이 안되는 문제가 발생한다. 또한 테스트 전용 객체를 service 필드에 할당하고 일반 런타임 모든 실행 경로도 테스트해야 하는 문제가 발생한다.

- Main 분리

시스템 생성과 사용을 분리하는 방법으로 생성과 관련된 코드는 모두 main이나 main이 호출하는 모듈로 옮기고, 나머지 시스템은 모든 객체가 생성되었고 모든 의존성이 연결되었다고 가정한다.
어플리케이션은 객체를 사용할 뿐 생성되는 과정을 모른다.

- 팩토리

객체가 생성되는 시점을 어플리케이션이 결정해야 할 경우, ABSTRACT FACTORY 패턴을 사용한다. 인터페이스를 통해 객체를 생성하는 시점은 어플리케이션이 결정하지만, 생성하는 코드는 모르는 경우를 뜻한다.

- 의존성 주입

제어 역전(IOC)를 의존성 관리에 적용한 메커니즘으로, 한 객체가 맡은 보조 책임을 새로운 객체에게 넘김으로써 SRP를 지키는 기법이다.

- AOP

관점 지향 프로그래밍으로 횡단 관심사에 대처하여 모듈성을 확보하는 방법론이다. 여기서의 관점 이라는 모듈 구성 개념은 특정 관심사를 지원하기 위해서는 시스템에서 특정 지점이 동작하는 방식을 일관성 있게 바꿔야 한다고 명시한다.

- 자바 프록시

개별 객체나 클래스 메서드 호출을 감싸는 등 단순한 상황에 적합한 메커니즘이다. JDK에서는 동적 프록시로 인터페이스만 지원하고 클래스 프록시를 사용하기 위해서는 CGLIB, ASM, Javassit과 같은 라이브러리가 필요하다. 코드의 양이 길어질 수 있다는 단점을 가지고 있다.

- 순수 자바 AOP 프레임워크

어플리케이션과 스프링의 독립적인 면모를 살려 결합도를 낮추는 장점을 지닌다.

- AspectJ관점

언어 차원에서 관점을 모듈화 구성으로 지원하는 자바 언어 확장이다. 관점을 분리하기에 강력하고 많은 도구 집합을 제공하나, 사용법을 새로 익혀야 한다는 단점이 있다.

- 테스트 주도 시스템 아키텍처 구축

`최선의 시스템 구조는 각기 POJO 객체로 구현되는 모듈화된 관심사 영역으로 구성된다. 이렇게 서로 다른 영역은 해당 영역 코드에 최소한의 영향을 미치는 관점이나 유사한 도구를 사용해 통합한다. 이런 구조 역시 코드와 마찬가지로 테스트 주도 기법을 적용할 수 있다.`

- DSL

간단한 스크립트 언어나 표준 언어로 구현한 API로 적절히 사용 시 추상화 수준을 끌어올리기 용이하다.