# 창발성(Emergent Design)

## 중요도 순 설계 원칙

1. **모든 테스트를 실행하라**
2. **중복을 없애라**
3. **프로그래머의 의도를 표현하라**
4. **클래스와 메서드 수를 최소로 줄여라**

---

## 1. 모든 테스트를 실행하라

- 설계는 **의도한 대로 동작하는 시스템**을 만들어야 한다.
- **검증이 불가능한 시스템은 절대 출시해서는 안 된다.**
- 테스트 가능한 시스템을 만드는 과정에서 **설계 품질도 자연스럽게 향상**된다.
- 테스트 작성이 어렵다면?  
  이는 시스템 **결합도가 높다는 신호**이다.  
  **DIP 원칙**, **의존성 주입**, **인터페이스**, **추상화** 등을 사용하여 결합도를 낮출 수 있다.

---

## 2. 리팩터링  
*(중복 제거, 의도 표현, 클래스/메서드 수 최소화)*

- **응집도를 높이고**, **결합도를 낮추며**, **관심사를 분리**하는 다양한 기법을 적용한다.
- 함수와 클래스의 **크기를 줄이고**, **좋은 이름을 선택**한다.
- 나머지 3개의 설계 규칙(중복 제거, 의도 표현, 최소 구성)을 실현하는 핵심 단계이다.

---

## 3. 중복을 없애라

- 중복은 **추가 작업**, **추가 위험**, **복잡도 증가**를 의미한다.
- **깔끔한 시스템**을 위해 **단 몇 줄이라도 중복을 제거**하려는 의지가 중요하다.

###  예시

```java
// 중복 코드가 있는 경우
if (userType.equals("ADMIN")) {
    accessLevel = "FULL";
}
if (userType.equals("GUEST")) {
    accessLevel = "LIMITED";
}

// 중복 제거
Map<String, String> accessMap = Map.of(
    "ADMIN", "FULL",
    "GUEST", "LIMITED"
);
accessLevel = accessMap.getOrDefault(userType, "NONE");
```

---

## 3-1. TEMPLATE METHOD 패턴

- **고차원 중복 제거**를 위한 대표적 기법이다.
- **알고리즘의 구조는 유지하면서**, 세부 구현을 하위 클래스에 위임하는 방식이다.

###  예시

```java
abstract class DataProcessor {
    public void process() {
        readData();
        processData();
        saveData();
    }

    protected abstract void readData();
    protected abstract void processData();
    protected abstract void saveData();
}

class CSVDataProcessor extends DataProcessor {
    protected void readData() {
        // CSV 읽기 구현
    }

    protected void processData() {
        // 처리 로직 구현
    }

    protected void saveData() {
        // 저장 구현
    }
}
```

---

## 4. 프로그래머의 의도를 표현하라

- 코드는 **개발자의 의도**를 **명확히 전달**해야 한다.

### ✅ 의도를 잘 드러내는 방법

1. **좋은 이름**을 선택하라.
2. **함수와 클래스 크기를 줄여라.**
3. **표준 명칭**을 사용하라.
4. **단위 테스트 케이스**를 꼼꼼히 작성하라.
5. **노력하라.**  
   자신의 작품을 자랑할 수 있도록,  
   더 나은 이름을 고민하고,  
   큰 함수를 작은 함수로 나누고,  
   코드에 정성을 들이자.

---

## 5. 클래스와 메서드 수를 최소로 줄여라

- **작고 명확한 단위**의 함수와 클래스를 구성하되, 전체 시스템 규모도 작게 유지해야 한다.
- 이 원칙은 **우선순위는 가장 낮지만**, **절대 배제되어선 안 된다.**
- 테스트 작성, 중복 제거, 의도 표현이 **우선적으로 이루어진 후**,  
  클래스와 메서드 수를 줄이는 작업을 한다.

---

## ✅ 결론

- 창발성 있는 설계는 **작고 명확한 변화**를 통해 자연스럽게 시스템을 진화시킨다.
- **중요도 순서에 따라 실천하라**:
  1. 테스트 가능한 시스템
  2. 중복 제거
  3. 의도 표현
  4. 최소 구성
- 각각의 원칙은 서로를 강화하며, 더 나은 코드를 만든다.
- 내가 생각한 우선순위는 1,3,2,4 로 생각들며며 단 몇줄이라도 줄이려는 의지가 나한테 크게 와닿았다.

---