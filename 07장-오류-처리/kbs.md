# Chapter 7: 오류 처리

## 1. 리턴 코드 대신 예외를 사용하라

### **리턴 코드 방식의 문제점**
과거의 프로그래밍 언어들은 예외 처리 메커니즘을 제공하지 않았음.<br>
따라서 개발자들은 오류 발생 시 오류 코드나 플래그를 설정하여 호출자에게 전달하고 이를 확인하며 처리해야 했다.<br>
하지만 이러한 방식은 예외 처리를 누락할 위험이 있고, 비즈니스 로직과 오류 처리 코드가 섞여 코드의 가독성을 떨어뜨림.

### **예외 처리 방식**
예외를 던져서 처리하는 방식은 비즈니스 로직과 오류 처리 로직을 명확하게 분리할 수 있음.<br>
이 방식은 코드가 훨씬 깔끔하고 유지보수하기 쉬워짐.<br>
예외를 사용하는 것으로 오류 발생 시 어떤 일이 일어났는지 명확히 알 수 있으며, 로직에 집중할 수 있음.

## 2. Try-Catch-Finally문을 먼저 써라

예외가 발생할 수 있는 부분에 대해 `try-catch` 블록을 먼저 작성하여 코드의 범위를 정의하는 것이 좋다.<br>
`try` 문은 트랜잭션과 닮았으며 만일 오류가 발생하더라도 프로그램이 일관성 있는 상태를 유지하도록 `catch`문을 작성.<br>
예외 처리 범위가 명확하게 정의되면 코드의 흐름을 더 잘 이해할 수 있음.

## 3. Unchecked Exception을 사용하라

`Checked Exception`을 사용하면 모든 상위 함수에서 하위 함수의 예외를 처리해야 하므로, 코드에 많은 의존성이 생김.<br>
이는 캡슐화를 깨뜨릴 위험이 있음.<br>
따라서 가능한 한 `Unchecked Exception`을 사용하여 불필요한 의존성을 줄이는 것이 좋음.

## 4. 예외에 의미를 제공하라

예외가 발생한 이유와 전후 상황을 명확하게 전달하는 메시지를 제공하는 것이 중요함. 스택 트레이스만으로는 충분하지 않기 때문에, 예외 객체에 상황을 설명하는 메시지를 추가하는 것이 좋음. 이를 통해 예외가 발생한 원인을 더 쉽게 파악할 수 있음.

## 5. 호출자를 고려해 예외 클래스를 정의하라

예외 클래스를 정의할 때는 호출자가 오류를 쉽게 처리할 수 있도록 해야 함. 예외 클래스를 적절히 래핑하여 오류를 처리할 수 있는 방식으로 정의하는 것이 좋음. 이를 통해 코드의 가독성을 높이고, 외부 라이브러리의 오류를 추상화하여 의존성을 줄일 수 있음.

## 6. 정상적인 흐름을 정의하라

예외가 발생할 가능성이 있는 경우, 해당 예외를 처리하는 로직을 적절하게 정의하여 코드의 흐름을 방해하지 않도록 해야 함. `Special Case Pattern`을 활용하여 예외 상황을 객체로 캡슐화하고, 호출자 코드가 예외 처리에 신경쓰지 않도록 함. 이 패턴을 사용하면 예외 상황을 적절히 처리할 수 있음.

## 7. Null을 리턴하지 마라

`Null`을 반환하는 것은 호출자에게 불필요한 책임을 지우는 행위임. 호출자가 `NullPointerException`을 처리해야 하는 상황이 발생할 수 있기 때문. 대신, `Null`을 반환하지 않고 빈 객체나 `Special Case Object`를 반환하는 방식으로 처리하는 것이 좋음.

## 8. Null을 전달하지 마라

함수의 파라미터로 `Null`을 전달하는 것은 코드의 오류를 발생시킬 위험이 큼. `Null`을 전달하지 않도록 함수 시그니처를 정의하거나, `Null`을 받지 않도록 설계하는 것이 바람직함. 대부분의 프로그래밍 언어는 `Null`에 대한 적절한 처리가 어려운 경우가 많기 때문에, `Null`을 매개변수로 받지 않는 방식이 코드의 안정성을 높이는 방법.
